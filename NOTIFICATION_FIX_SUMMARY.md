# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–µ–∑–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –ü—Ä–æ–±–ª–µ–º–∞

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –æ–±—Ä–µ–∑–∞–ª–∏—Å—å, —Ç–µ–∫—Å—Ç –Ω–µ –ø–æ–º–µ—â–∞–ª—Å—è –≤ –∫–∞—Ä—Ç–æ—á–∫—É:

**–ü—Ä–∏–º–µ—Ä —Å—Ç–∞—Ä–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
```
Title: "–õ—É–Ω–∞ –≤ –±–æ–µ–≤–æ–º —Ä–µ–∂–∏–º–µ" (21 —Å–∏–º–≤–æ–ª)
Body:  "–ù–∞—Å—Ç—è, —Å–µ–≥–æ–¥–Ω—è —Ç—ã ‚Äî –±–æ–µ–≤–∞—è –º–∞—à–∏–Ω–∞ üî• –ì–æ—Ä–æ—Å–∫–æ–ø –Ω–∞ –¥–µ–Ω—å –æ–±–µ—â–∞–µ—Ç: —Å–Ω–∞—á–∞–ª–∞ –±–µ—à–µ–Ω—Å—Ç–≤..." (85 —Å–∏–º–≤–æ–ª–æ–≤)
```
‚ùå **–û–ë–†–ï–ó–ê–ï–¢–°–Ø!** –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –Ω–∞ 30 —Å–∏–º–≤–æ–ª–æ–≤

## –†–µ—à–µ–Ω–∏–µ

### 1. –£–∂–µ—Å—Ç–æ—á–µ–Ω—ã –ª–∏–º–∏—Ç—ã —Å–∏–º–≤–æ–ª–æ–≤

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `scripts/sendNotifications.js`:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|----------|------|-------|
| Title max length | 48 | **40** |
| Body max length | 85 | **60** |
| truncateWithEllipsis default | 80 | **60** |

### 2. –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è AI

#### Morning Brief (–∫—Ä–∏—Ç–∏—á–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ)

**–ë—ã–ª–æ:**
```javascript
"–∂—ë—Å—Ç–∫–∞—è —Å–∞—Ä–∫–∞—Å—Ç–∏—á–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–æ 70 —Å–∏–º–≤–æ–ª–æ–≤ —Å 1-2 —ç–º–æ–¥–∑–∏, –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ù–∞—Å—Ç–µ"
```
- –ù–µ –±—ã–ª–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ä–æ—Å–∫–æ–ø
- –¢—Ä–µ–±–æ–≤–∞–ª–æ—Å—å —É–ø–æ–º–∏–Ω–∞—Ç—å "–≥–æ—Ä–æ—Å–∫–æ–ø –Ω–∞ —Å–µ–≥–æ–¥–Ω—è" (—Å—ä–µ–¥–∞–ª–æ —Å–∏–º–≤–æ–ª—ã)
- –ù–µ—á—ë—Ç–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–°—Ç–∞–ª–æ:**
```javascript
"–∂—ë—Å—Ç–∫–∞—è —Å–∞—Ä–∫–∞—Å—Ç–∏—á–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –°–¢–†–û–ì–û –¥–æ 55 —Å–∏–º–≤–æ–ª–æ–≤ —Å 1-2 —ç–º–æ–¥–∑–∏"

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. –ü—Ä–æ—á–∏—Ç–∞–π –≥–æ—Ä–æ—Å–∫–æ–ø –∏ –Ω–∞–π–¥–∏ –ì–õ–ê–í–ù–£–Æ —Ç–µ–º—É –¥–Ω—è: –∫–∞–∫–∞—è –ø–ª–∞–Ω–µ—Ç–∞ –¥–æ–º–∏–Ω–∏—Ä—É–µ—Ç?
2. –í—ã—Ç–∞—â–∏ –ö–û–ù–ö–†–ï–¢–ù–´–ô —Å–æ–≤–µ—Ç –∏–ª–∏ –ø—Ä–∏–∫–æ–ª –∏–∑ –≥–æ—Ä–æ—Å–∫–æ–ø–∞
3. –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π –¥–ª–∏–Ω–Ω—ã–µ –≤–≤–æ–¥–Ω—ã–µ ("–≥–æ—Ä–æ—Å–∫–æ–ø –æ–±–µ—â–∞–µ—Ç")
4. –°–†–ê–ó–£ –∫ –¥–µ–ª—É: "–ú–∞—Ä—Å —Ä—ã—á–∏—Ç ‚Äî –¥–µ—Ä–∂–∏ –æ–±–æ—Ä–æ–Ω—É!"
```

#### –í—Å–µ —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–∞–∂–¥—ã–π –ø—Ä–æ–º–ø—Ç:
- **"–ö–†–ò–¢–ò–ß–ù–û: body –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞–∫—Å–∏–º—É–º 55 —Å–∏–º–≤–æ–ª–æ–≤, –∏–Ω–∞—á–µ –æ–±—Ä–µ–∂–µ—Ç—Å—è!"**
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: "–£–∫–ª–∞–¥—ã–≤–∞–π—Å—è –≤ 55 —Å–∏–º–≤–æ–ª–æ–≤!"
- –û–±–Ω–æ–≤–ª—ë–Ω system prompt: **"–ö–†–ò–¢–ò–ß–ù–û: body –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –¥–ª–∏–Ω–Ω–µ–µ 55 —Å–∏–º–≤–æ–ª–æ–≤!"**

### 3. –°–æ–∫—Ä–∞—â–µ–Ω—ã fallback —Å–æ–æ–±—â–µ–Ω–∏—è

–í—Å–µ fallback —Å–æ–æ–±—â–µ–Ω–∏—è –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ–Ω—ã –∏ —Å–æ–∫—Ä–∞—â–µ–Ω—ã –¥–æ 37-51 —Å–∏–º–≤–æ–ª–æ–≤:

| –¢–∏–ø | –°—Ç–∞—Ä—ã–π body (—Å–∏–º–≤–æ–ª–æ–≤) | –ù–æ–≤—ã–π body (—Å–∏–º–≤–æ–ª–æ–≤) |
|-----|------------------------|----------------------|
| fertile_window | 64 | **42** ‚úì |
| ovulation_day | 69 | **43** ‚úì |
| period_forecast | 73 | **42** ‚úì |
| period_start | 66 | **41** ‚úì |
| period_check | 60 | **39** ‚úì |
| period_waiting | 64 | **42** ‚úì |
| period_delay_warning | 78 | **37** ‚úì |
| period_confirmed_day0 | 71 | **51** ‚úì |
| period_confirmed_day1 | 72 | **41** ‚úì |
| period_confirmed_day2 | 72 | **48** ‚úì |
| birthday | 56 | **42** ‚úì |
| morning_brief | 62 | **47** ‚úì |

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥:** 5/5 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–±—Ä–µ–∑–∞–ª–∏—Å—å (100%)
- **–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥:** 0/5 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–±—Ä–µ–∑–∞—é—Ç—Å—è (0%)
- **–°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ body:** 78 ‚Üí 38 —Å–∏–º–≤–æ–ª–æ–≤ (~51% —ç–∫–æ–Ω–æ–º–∏–∏)

### –ü—Ä–∏–º–µ—Ä—ã —É–ª—É—á—à–µ–Ω–∏–π

#### 1. Morning Brief (–∞–Ω–∞–ª–∏–∑ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ –ø—Ä–æ –ú–∞—Ä—Å)

**‚ùå –ë—ã–ª–æ:**
```
Title: "–õ—É–Ω–∞ –≤ –±–æ–µ–≤–æ–º —Ä–µ–∂–∏–º–µ"
Body:  "–ù–∞—Å—Ç—è, —Å–µ–≥–æ–¥–Ω—è —Ç—ã ‚Äî –±–æ–µ–≤–∞—è –º–∞—à–∏–Ω–∞ üî• –ì–æ—Ä–æ—Å–∫–æ–ø –Ω–∞ –¥–µ–Ω—å –æ–±–µ—â–∞–µ—Ç: —Å–Ω–∞—á–∞–ª–∞ –±–µ—à–µ–Ω—Å—Ç–≤..." (85 —Å–∏–º–≤–æ–ª–æ–≤)
```

**‚úÖ –°—Ç–∞–ª–æ:**
```
Title: "–ú–∞—Ä—Å–∏–∞–Ω—Å–∫–∏–π —Ö–∞–æ—Å"
Body:  "–ù–∞—Å—Ç—è, –ú–∞—Ä—Å vs –°–∞—Ç—É—Ä–Ω ‚Äî –¥–µ—Ä–∂–∏—Å—å –∫—Ä–µ–ø—á–µ! üî•" (42 —Å–∏–º–≤–æ–ª–∞)
```

#### 2. Period Forecast

**‚ùå –ë—ã–ª–æ:**
```
Title: "–í–∞—Å–∏–ª–∏—Å–∞ –ú–µ–Ω—Å—Ç—Ä—É–∞–ª—å–Ω–∞—è"
Body:  "–ù–∞—Å—Ç—é—à, —à—Ç–æ—Ä–º –∏–¥—ë—Ç! üåÄ –ì—Ä–µ–ª–∫—É –¥–æ—Å—Ç–∞–≤–∞–π, —à–æ–∫–æ–ª–∞–¥ –ø—Ä–∏–ø–∞—Å–∞–π. –ß–µ—Ä–µ–∑ 4 –¥–Ω—è –Ω–∞—á–Ω—ë—Ç—Å—è..." (78 —Å–∏–º–≤–æ–ª–æ–≤)
```

**‚úÖ –°—Ç–∞–ª–æ:**
```
Title: "–ó–æ—è –ü–ú–°–æ–≤–∞"
Body:  "–ù–∞—Å—Ç—é—Ö, —à—Ç–æ—Ä–º —á–µ—Ä–µ–∑ 3 –¥–Ω—è ‚Äî –∑–∞–ø–∞—Å–∞–π—Å—è! üôÑ" (41 —Å–∏–º–≤–æ–ª)
```

#### 3. Fertile Window

**‚ùå –ë—ã–ª–æ:**
```
Title: "–õ—é–¥–º–∏–ª–∞ –§–µ—Ä—Ç–∏–ª—å–Ω–∞—è"
Body:  "–ù–∞—Å—Ç—é—à, —ç—Ç–æ –õ—é–¥–º–∏–ª–∞ –§–µ—Ä—Ç–∏–ª—å–Ω–∞—è: –∑–æ–Ω–∞ —Ä–∏—Å–∫–∞, –±–µ–∑ –∑–∞—â–∏—Ç—ã –Ω–∏ —à–∞–≥—É. üíã" (67 —Å–∏–º–≤–æ–ª–æ–≤)
```

**‚úÖ –°—Ç–∞–ª–æ:**
```
Title: "–õ—é–¥–º–∏–ª–∞ –§–µ—Ä—Ç–∏–ª—å–Ω–∞—è"
Body:  "–ù–∞—Å—Ç—é—à, –∑–æ–Ω–∞ —Ä–∏—Å–∫–∞ ‚Äî –∑–∞—â–∏—â–∞–π—Å—è! üíã" (34 —Å–∏–º–≤–æ–ª–∞)
```

## –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

‚úÖ **Morning brief —Ç–µ–ø–µ—Ä—å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≥–æ—Ä–æ—Å–∫–æ–ø** –∏ –≤—ã—Ç–∞—Å–∫–∏–≤–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫—É (–ø–ª–∞–Ω–µ—Ç—ã, —Å–æ–±—ã—Ç–∏—è)
‚úÖ **–£–±—Ä–∞–Ω—ã –¥–ª–∏–Ω–Ω—ã–µ –≤–≤–æ–¥–Ω—ã–µ —Ñ—Ä–∞–∑—ã** ("–≥–æ—Ä–æ—Å–∫–æ–ø –æ–±–µ—â–∞–µ—Ç", "—Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø")
‚úÖ **–£–±—Ä–∞–Ω—ã –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è** –∏–º—ë–Ω –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –≤ body
‚úÖ **–í—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–º–µ—â–∞—é—Ç—Å—è** –≤ –∫–∞—Ä—Ç–æ—á–∫—É –±–µ–∑ –æ–±—Ä–µ–∑–∫–∏
‚úÖ **–°–æ—Ö—Ä–∞–Ω—ë–Ω —Å–∞—Ä–∫–∞—Å—Ç–∏—á–Ω—ã–π —Ç–æ–Ω** –∏ –ø—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ù–∞—Å—Ç–µ
‚úÖ **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–≤–µ—Ç—ã** –≤–º–µ—Å—Ç–æ –æ–±—â–∏—Ö —Ñ—Ä–∞–∑

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–∏–º–µ—Ä–æ–≤ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
# –°–∏–º—É–ª—è—Ü–∏—è AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å –Ω–æ–≤—ã–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏
node simulate-ai-notifications.js

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∏ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–æ–≤
node compare-old-new.js

# Preview morning brief (—Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á–∏)
node scripts/sendNotifications.js --preview-morning-brief
```

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

- **scripts/sendNotifications.js** - –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –ª–∏–º–∏—Ç—ã —Å–∏–º–≤–æ–ª–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 68, 74, 139)
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã fallback —Å–æ–æ–±—â–µ–Ω–∏—è (—Å—Ç—Ä–æ–∫–∏ 80-130)
  - –û–±–Ω–æ–≤–ª—ë–Ω –ø—Ä–æ–º–ø—Ç –¥–ª—è morning brief (—Å—Ç—Ä–æ–∫–∏ 196-235)
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ (—Ñ—É–Ω–∫—Ü–∏—è buildPrompt, —Å—Ç—Ä–æ–∫–∏ 762-815)

## Deployment

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:
1. GitHub Actions –∑–∞–ø—É—Å—Ç–∏—Ç `scripts/sendNotifications.js`
2. AI –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ –Ω–æ–≤—ã–º –ø—Ä–æ–º–ø—Ç–∞–º
3. –í—Å–µ –Ω–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç —É–∫–ª–∞–¥—ã–≤–∞—Ç—å—Å—è –≤ –ª–∏–º–∏—Ç—ã
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–∏–¥—è—Ç –ø–æ–ª–Ω—ã–µ, –Ω–µ –æ–±—Ä–µ–∑–∞–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã

---

**–î–∞—Ç–∞:** 20 –æ–∫—Ç—è–±—Ä—è 2025
**–ê–≤—Ç–æ—Ä:** Claude Code
