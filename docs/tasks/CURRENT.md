# –¢–µ–∫—É—â–∞—è –∑–∞–¥–∞—á–∞

**Last updated:** 2025-10-31T01:30:00Z

---

## TASK-014: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –ø–æ–≥–æ–¥—ã - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç ‚úÖ

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** refactor | **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî• high | **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** simple

**–°—Ç–∞—Ç—É—Å:** done
**–ù–∞—á–∞—Ç–∞:** 2025-10-31T01:15:00Z
**–ó–∞–≤–µ—Ä—à–µ–Ω–∞:** 2025-10-31T01:30:00Z

### –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–∞–ø 2 —É–Ω–∏–≤–µ—Ä—Å–∞–ª–∏–∑–∞—Ü–∏–∏: –æ–±–Ω–æ–≤–∏—Ç—å `fetchDailyWeatherSummary()` –∏ `fetchWeeklyWeatherSummary()` –¥–ª—è –ø—Ä–∏–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (latitude, longitude) –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω–æ–≥–æ `COBURG_COORDS`.

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `buildQueryUrl()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ `null` –µ—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã. –£–¥–∞–ª–∏—Ç—å –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–π `COBURG_COORDS` –∏–∑ weather.ts.

**Privacy-first –ø–æ–¥—Ö–æ–¥:** –ü–æ–≥–æ–¥–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —è–≤–Ω–æ –ø–µ—Ä–µ–¥–∞–Ω—ã. –ï—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã `null`/`undefined` - —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `null` –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ –∫ API.

### –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- [src/utils/weather.ts](../../src/utils/weather.ts) - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### –¢–µ–≥–∏

weather, refactor, coordinates, parameterization

---

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

‚úÖ **–í—Å–µ –ø–æ–¥–∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∑–∞ ~15 –º–∏–Ω—É—Ç!** (–æ—Ü–µ–Ω–∫–∞ –±—ã–ª–∞ 30 –º–∏–Ω—É—Ç)

1. **buildQueryUrl()** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `latitude?`, `longitude?` –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null` –µ—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ã
   - Privacy-first: –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (latitude === undefined || latitude === null || ...)`

2. **fetchWeatherRange()** - –ø–µ—Ä–µ–¥–∞—ë—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ `buildQueryUrl()`
   - Early return `null` –µ—Å–ª–∏ `url === null` (–Ω–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç)

3. **fetchDailyWeatherSummary()** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `latitude?`, `longitude?`
   - Early return `null` –µ—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ã
   - –ü–µ—Ä–µ–¥–∞—ë—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ `fetchWeatherRange()`

4. **fetchWeeklyWeatherSummary()** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `latitude?`, `longitude?`
   - Early return `null` –µ—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ã
   - –ü–µ—Ä–µ–¥–∞—ë—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ `fetchWeatherRange()`

5. **COBURG_COORDS —É–¥–∞–ª—ë–Ω** - –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ (50.2584, 10.9629) –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

6. **TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è** - –±–µ–∑ –æ—à–∏–±–æ–∫ (`npx tsc --noEmit`)

**–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:** TASK-016 (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤), TASK-020 (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤)

---

**–≠—Ç–∞ –∑–∞–¥–∞—á–∞ —á–∞—Å—Ç—å –º–µ—Ç–∞-–∑–∞–¥–∞—á–∏:** Adaptive Horoscope Prompts (TASK-013 ‚Üí TASK-023)
**–≠—Ç–∞–ø:** Phase 1 - Universalization (—É–¥–∞–ª–µ–Ω–∏–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
**–ü—Ä–µ–¥—ã–¥—É—â–∞—è:** TASK-013 (–∑–∞–≤–µ—Ä—à–µ–Ω–∞ ‚úÖ)
**–°–ª–µ–¥—É—é—â–∞—è:** TASK-015 (—Ö–µ–ª–ø–µ—Ä—ã userContext.ts)
