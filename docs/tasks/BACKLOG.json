{
  "metadata": {
    "version": "1.0.0",
    "lastUpdated": "2025-10-29T13:15:00Z",
    "totalTasks": 2,
    "nextId": 3
  },
  "tasks": [
    {
      "id": "TASK-001",
      "title": "Локализировать названия месяцев в календаре",
      "description": "В календаре название месяца и года (например, 'октябрь 2025 г.') отображается только на русском языке независимо от выбранного языка приложения. Нужно добавить локализацию через i18n для форматирования дат в соответствии с текущим языком (русский/английский). Проверить все места где отображаются названия месяцев и обеспечить консистентную локализацию.",
      "category": "bug",
      "priority": "medium",
      "status": "done",
      "tags": ["i18n", "localization", "calendar", "ui"],
      "createdAt": "2025-01-28T15:05:00Z",
      "updatedAt": "2025-10-29T13:15:00Z",
      "completedAt": "2025-10-29T13:15:00Z",
      "relatedFiles": [
        "src/components/ModernNastiaApp.tsx",
        "src/components/CycleLengthChart.tsx",
        "src/utils/dateUtils.ts"
      ],
      "estimatedComplexity": "simple",
      "blockedBy": [],
      "notes": "Скриншот показывает 'октябрь 2025 г.' - нужно использовать toLocaleString или i18n.language для форматирования"
    },
    {
      "id": "TASK-002",
      "title": "Исправить использование захардкоженных данных партнёра вместо БД",
      "description": "Критический баг: имя партнёра 'Сергей' захардкожено в 19 файлах. AI-промпты используют статический профиль getCurrentUser() вместо реальных данных из Supabase (таблица partners). Даже после удаления партнёра в БД имя продолжает использоваться из src/data/userProfile.ts. Критичные файлы: cyclePrompt.ts (6 вхождений 'Sergey'), horoscope.ts (6 функций), ModernNastiaApp.tsx (не передаёт userPartner). Требуется: создать утилиту userContext.ts для получения партнёра из БД, рефакторинг AI-промптов (horoscope.ts, historyStory.ts, cyclePrompt.ts), обновление ModernNastiaApp.tsx для передачи userPartner в AI-функции.",
      "category": "bug",
      "priority": "critical",
      "status": "done",
      "tags": ["ai", "database", "personalization", "partner", "hardcoded-data"],
      "createdAt": "2025-10-28T12:30:00Z",
      "updatedAt": "2025-10-29T12:00:00Z",
      "completedAt": "2025-10-29T12:00:00Z",
      "relatedFiles": [
        "src/utils/prompts/cyclePrompt.ts",
        "src/utils/horoscope.ts",
        "src/utils/historyStory.ts",
        "src/components/ModernNastiaApp.tsx",
        "src/data/userProfile.ts"
      ],
      "estimatedComplexity": "complex",
      "blockedBy": [],
      "notes": "План из 7 подзадач: 1) ✅ Аудит (выполнен), 2) ✅ Исправить cyclePrompt.ts, 3) ✅ Создать userContext.ts, 4) ✅ Рефакторинг horoscope.ts, 5) ✅ Рефакторинг historyStory.ts, 6) ✅ Обновить ModernNastiaApp.tsx, 7) ✅ Проект успешно собран"
    }
  ]
}
