{
  "metadata": {
    "version": "1.0.0",
    "lastUpdated": "2025-10-29T22:00:00Z",
    "totalTasks": 10,
    "nextId": 11
  },
  "tasks": [
    {
      "id": "TASK-001",
      "title": "–õ–æ–∫–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Å—è—Ü–µ–≤ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ",
      "description": "–í –∫–∞–ª–µ–Ω–¥–∞—Ä–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ—Å—è—Ü–∞ –∏ –≥–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, '–æ–∫—Ç—è–±—Ä—å 2025 –≥.') –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ i18n –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç–µ–∫—É—â–∏–º —è–∑—ã–∫–æ–º (—Ä—É—Å—Å–∫–∏–π/–∞–Ω–≥–ª–∏–π—Å–∫–∏–π). –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ –≥–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Å—è—Ü–µ–≤ –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—É—é –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é.",
      "category": "bug",
      "priority": "medium",
      "status": "done",
      "tags": ["i18n", "localization", "calendar", "ui"],
      "createdAt": "2025-01-28T15:05:00Z",
      "updatedAt": "2025-10-29T13:15:00Z",
      "completedAt": "2025-10-29T13:15:00Z",
      "relatedFiles": [
        "src/components/ModernNastiaApp.tsx",
        "src/components/CycleLengthChart.tsx",
        "src/utils/dateUtils.ts"
      ],
      "estimatedComplexity": "simple",
      "blockedBy": [],
      "notes": "–°–∫—Ä–∏–Ω—à–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç '–æ–∫—Ç—è–±—Ä—å 2025 –≥.' - –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å toLocaleString –∏–ª–∏ i18n.language –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
    },
    {
      "id": "TASK-002",
      "title": "–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤–º–µ—Å—Ç–æ –ë–î",
      "description": "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥: –∏–º—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞ '–°–µ—Ä–≥–µ–π' –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ –≤ 19 —Ñ–∞–π–ª–∞—Ö. AI-–ø—Ä–æ–º–ø—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å getCurrentUser() –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ Supabase (—Ç–∞–±–ª–∏—Ü–∞ partners). –î–∞–∂–µ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤ –ë–î –∏–º—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏–∑ src/data/userProfile.ts. –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã: cyclePrompt.ts (6 –≤—Ö–æ–∂–¥–µ–Ω–∏–π 'Sergey'), horoscope.ts (6 —Ñ—É–Ω–∫—Ü–∏–π), ModernNastiaApp.tsx (–Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç userPartner). –¢—Ä–µ–±—É–µ—Ç—Å—è: —Å–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É userContext.ts –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –∏–∑ –ë–î, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ AI-–ø—Ä–æ–º–ø—Ç–æ–≤ (horoscope.ts, historyStory.ts, cyclePrompt.ts), –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ModernNastiaApp.tsx –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ userPartner –≤ AI-—Ñ—É–Ω–∫—Ü–∏–∏.",
      "category": "bug",
      "priority": "critical",
      "status": "done",
      "tags": ["ai", "database", "personalization", "partner", "hardcoded-data"],
      "createdAt": "2025-10-28T12:30:00Z",
      "updatedAt": "2025-10-29T12:00:00Z",
      "completedAt": "2025-10-29T12:00:00Z",
      "relatedFiles": [
        "src/utils/prompts/cyclePrompt.ts",
        "src/utils/horoscope.ts",
        "src/utils/historyStory.ts",
        "src/components/ModernNastiaApp.tsx",
        "src/data/userProfile.ts"
      ],
      "estimatedComplexity": "complex",
      "blockedBy": [],
      "notes": "–ü–ª–∞–Ω –∏–∑ 7 –ø–æ–¥–∑–∞–¥–∞—á: 1) ‚úÖ –ê—É–¥–∏—Ç (–≤—ã–ø–æ–ª–Ω–µ–Ω), 2) ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å cyclePrompt.ts, 3) ‚úÖ –°–æ–∑–¥–∞—Ç—å userContext.ts, 4) ‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ horoscope.ts, 5) ‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ historyStory.ts, 6) ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å ModernNastiaApp.tsx, 7) ‚úÖ –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω"
    },
    {
      "id": "TASK-003",
      "title": "–ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ getCurrentUser() –∏–∑ horoscope.ts",
      "description": "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: –≤ horoscope.ts –æ—Å—Ç–∞–ª–∏—Å—å 16 –≤—ã–∑–æ–≤–æ–≤ getCurrentUser(), –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –∏–º–µ–Ω–µ–º '–°–µ—Ä–≥–µ–π' –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ Supabase. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –≤—ã–∑–æ–≤—ã –Ω–∞ getUserName(userProfile) / getPartnerName(userPartner), –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã userProfile/userPartner –≤–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ (buildSergeyDailyPrompt, buildDailyPrompt, buildWeeklyPrompt –∏ –¥—Ä.), –æ–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.",
      "category": "refactor",
      "priority": "critical",
      "status": "done",
      "tags": ["refactor", "horoscope", "ai", "hardcoded-data", "partner"],
      "createdAt": "2025-10-29T17:00:00Z",
      "updatedAt": "2025-10-29T18:00:00Z",
      "completedAt": "2025-10-29T18:00:00Z",
      "relatedFiles": [
        "src/utils/horoscope.ts"
      ],
      "estimatedComplexity": "moderate",
      "blockedBy": [],
      "notes": "‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ: –û–±–Ω–æ–≤–ª–µ–Ω–æ 12 —Ñ—É–Ω–∫—Ü–∏–π, —É–¥–∞–ª–µ–Ω–æ 13 –≤—ã–∑–æ–≤–æ–≤ getCurrentUser() (–æ—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ fallback), –¥–æ–±–∞–≤–ª–µ–Ω–æ 18 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ userProfile/userPartner. –ë–∏–ª–¥ —É—Å–ø–µ—à–µ–Ω. –§—É–Ω–∫—Ü–∏–∏: buildDailyMemoryReminders, buildSergeyMemoryReminders, buildUserContext, buildPartnerContext, buildHoroscopeSystemPrompt, buildPartnerSystemPrompt, buildWeeklyPrompt, buildDailyPrompt, buildSergeyDailyPrompt, getFallbackHoroscopeText, fetchHoroscopeLoadingMessages, fetchSergeyLoadingMessages."
    },
    {
      "id": "TASK-004",
      "title": "–£–¥–∞–ª–µ–Ω–∏–µ getCurrentUser() –∏–∑ historyStory.ts",
      "description": "–í historyStory.ts –æ—Å—Ç–∞–ª–∏—Å—å 5 –≤—ã–∑–æ–≤–æ–≤ getCurrentUser(), –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑ Supabase. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã userProfile/userPartner –≤–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π, –æ–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã –≤ ModernNastiaApp.tsx (DiscoverTab), –∑–∞–º–µ–Ω–∏—Ç—å getCurrentUser().name –Ω–∞ getUserName(userProfile).",
      "category": "refactor",
      "priority": "critical",
      "status": "done",
      "tags": ["refactor", "interactive-story", "ai", "hardcoded-data"],
      "createdAt": "2025-10-29T17:00:00Z",
      "updatedAt": "2025-10-29T18:10:00Z",
      "completedAt": "2025-10-29T18:10:00Z",
      "relatedFiles": [
        "src/utils/historyStory.ts",
        "src/components/ModernNastiaApp.tsx"
      ],
      "estimatedComplexity": "simple",
      "blockedBy": [],
      "notes": "‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ: –û–±–Ω–æ–≤–ª–µ–Ω–æ 13 —Ñ—É–Ω–∫—Ü–∏–π, —É–¥–∞–ª–µ–Ω–æ 8 –≤—ã–∑–æ–≤–æ–≤ getCurrentUser() (–æ—Å—Ç–∞–ª–∏—Å—å 2 fallback), –¥–æ–±–∞–≤–ª–µ–Ω–æ 26 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ userProfile/userPartner. –ë–∏–ª–¥ —É—Å–ø–µ—à–µ–Ω. –§—É–Ω–∫—Ü–∏–∏: getUserProfile, getUserChartAnalysis, getUserBirthDataText, getUserChartAnalysisText, generatePsychContractContext, ensurePsychContractContext, buildStorySoFar, buildInputDataBlock, buildArcPrompt, buildFinalePrompt, generateHistoryStoryChunk (export), CustomHistoryOptionRequest (interface), generateCustomHistoryOption (export). –ò–º–ø–æ—Ä—Ç getPartnerName –¥–æ–±–∞–≤–ª–µ–Ω (—Å—Ç—Ä–æ–∫–∞ 9)."
    },
    {
      "id": "TASK-005",
      "title": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ userPartner –∏–∑ Supabase",
      "description": "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ userPartner –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ Supabase –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ state –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ModernNastiaApp. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–∑–æ–≤ getPartner() –∏–∑ supabaseProfile.ts, –¥–æ–±–∞–≤–∏—Ç—å error handling –¥–ª—è —Å–ª—É—á–∞–µ–≤ –∫–æ–≥–¥–∞ –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è. –ï—Å–ª–∏ –ø–∞—Ä—Ç–Ω–µ—Ä —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ Settings - –ø—Ä–æ–±–ª–µ–º–∞ –∏–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å.",
      "category": "bug",
      "priority": "high",
      "status": "done",
      "tags": ["bug", "partner", "database", "supabase"],
      "createdAt": "2025-10-29T17:00:00Z",
      "updatedAt": "2025-10-29T21:30:00Z",
      "completedAt": "2025-10-29T21:30:00Z",
      "relatedFiles": [
        "src/components/ModernNastiaApp.tsx",
        "src/utils/supabaseProfile.ts"
      ],
      "estimatedComplexity": "simple",
      "blockedBy": [],
      "notes": "‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ: –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è loadUserProfileData() - –ø–∞—Ä—Ç–Ω—ë—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–µ—Ä–µ–∑ fetchPartner(), —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ state —á–µ—Ä–µ–∑ setUserPartner(partner). –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: console.log('üìä Partner loaded:', { hasPartner: !!partner, partnerName: partner?.name, partnerId: partner?.id }). Error handling –£–ñ–ï –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π - fetchPartner() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null –µ—Å–ª–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –Ω–µ—Ç (–∫–æ–¥ PGRST116), —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–µ–π. State –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ë–∏–ª–¥ —É—Å–ø–µ—à–µ–Ω (455.48 kB, +61 B)."
    },
    {
      "id": "TASK-006",
      "title": "–ü–µ—Ä–µ–¥–∞—á–∞ userProfile/userPartner –≤–æ –í–°–ï AI-—Ñ—É–Ω–∫—Ü–∏–∏",
      "description": "–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥–∞—á—É —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (userProfile/userPartner) –≤–æ –≤—Å–µ AI-—Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ù–∞–π—Ç–∏ –≤—Å–µ –≤—ã–∑–æ–≤—ã fetchSergeyDailyHoroscopeForDate(), fetchSergeyBannerCopy(), fetchDailyHoroscope(), fetchWeeklyHoroscope(), generateInteractiveStory() –≤ ModernNastiaApp.tsx –∏ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤–µ–∑–¥–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è userProfile –∏ userPartner. –î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç.",
      "category": "refactor",
      "priority": "high",
      "status": "done",
      "tags": ["refactor", "ai", "partner", "horoscope"],
      "createdAt": "2025-10-29T17:00:00Z",
      "updatedAt": "2025-10-29T19:02:00Z",
      "completedAt": "2025-10-29T19:02:00Z",
      "relatedFiles": [
        "src/components/ModernNastiaApp.tsx",
        "src/utils/horoscope.ts"
      ],
      "estimatedComplexity": "moderate",
      "blockedBy": [],
      "notes": "‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ: –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ fetchDailyHoroscope (–¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã userProfile/userPartner). –û–±–Ω–æ–≤–ª–µ–Ω–æ 4 –≤—ã–∑–æ–≤–∞ AI-—Ñ—É–Ω–∫—Ü–∏–π –≤ ModernNastiaApp.tsx: fetchDailyHoroscope (line 3293), generateHistoryStoryChunk arc mode (line 954), generateHistoryStoryChunk finale mode (line 1077), generateCustomHistoryOption (line 1646). –§—É–Ω–∫—Ü–∏–∏ fetchSergeyBannerCopy –∏ fetchSergeyDailyHoroscopeForDate —É–∂–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã. –ë–∏–ª–¥ —É—Å–ø–µ—à–µ–Ω (455.42 kB, +9 B). ‚ö†Ô∏è ESLint warnings –æ dependency arrays (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)."
    },
    {
      "id": "TASK-007",
      "title": "–ê—Ä—Ö–∏–≤–∞—Ü–∏—è —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ userProfile.ts",
      "description": "–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å src/data/userProfile.ts –≤ userProfile.deprecated.ts –∏ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ —Ç–æ–º, —á—Ç–æ —Ñ–∞–π–ª —É—Å—Ç–∞—Ä–µ–ª –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ hardcoded –¥–∞–Ω–Ω—ã–µ –¥–ª—è legacy —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏. –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏–∑ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TASK-003 –∏ TASK-004. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç —Å–ª—É—á–∞–π–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –±—É–¥—É—â–µ–º.",
      "category": "chore",
      "priority": "medium",
      "status": "done",
      "tags": ["chore", "refactor", "cleanup", "deprecated"],
      "createdAt": "2025-10-29T17:00:00Z",
      "updatedAt": "2025-10-29T19:26:00Z",
      "completedAt": "2025-10-29T19:26:00Z",
      "relatedFiles": [
        "src/data/userProfile.deprecated.ts",
        "src/utils/horoscope.ts",
        "src/utils/historyStory.ts"
      ],
      "estimatedComplexity": "trivial",
      "blockedBy": [],
      "notes": "‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ: –§–∞–π–ª –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ userProfile.deprecated.ts —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –±–æ–ª—å—à–æ–≥–æ warning –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (‚ö†Ô∏è DEPRECATED - DO NOT USE! Use src/utils/userContext.ts). –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –≤ horoscope.ts (line 6) –∏ historyStory.ts (line 7). –í—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ @deprecated. –ë–∏–ª–¥ —É—Å–ø–µ—à–µ–Ω (455.42 kB). –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è fallback —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏."
    },
    {
      "id": "TASK-008",
      "title": "–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π",
      "description": "–ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞. –°–æ–∑–¥–∞—Ç—å horoscope.test.ts –∏ userContext.test.ts, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å getUserName() –∏ getPartnerName() —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ (–ø–∞—Ä—Ç–Ω–µ—Ä —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø–∞—Ä—Ç–Ω–µ—Ä null, fallback –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è). –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã —Å userProfile/userPartner, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ hardcoded '–°–µ—Ä–≥–µ–π' –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∏–≥–¥–µ.",
      "category": "test",
      "priority": "medium",
      "status": "backlog",
      "tags": ["test", "partner", "unit-tests", "quality"],
      "createdAt": "2025-10-29T17:00:00Z",
      "updatedAt": "2025-10-29T17:00:00Z",
      "relatedFiles": [
        "src/utils/horoscope.test.ts",
        "src/utils/userContext.test.ts"
      ],
      "estimatedComplexity": "moderate",
      "blockedBy": ["TASK-003", "TASK-004", "TASK-006"],
      "notes": "–ó–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–∏. –í—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞."
    },
    {
      "id": "TASK-009",
      "title": "UI —Ñ–∏–¥–±–µ–∫ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞",
      "description": "–£–ª—É—á—à–∏—Ç—å UX –∫–æ–≥–¥–∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ. –í –±–∞–Ω–Ω–µ—Ä–µ '–ß—Ç–æ —Ç–∞–º —É –ø–∞—Ä—Ç–Ω–µ—Ä–∞?' –ø—Ä–æ–≤–µ—Ä—è—Ç—å userPartner === null –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—Å—Ç '–î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å' —Å –∫–Ω–æ–ø–∫–æ–π '–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞' –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Settings ‚Üí ProfileSetupModal. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Å–∫—Ä—ã—Ç—å –±–∞–Ω–Ω–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é –µ—Å–ª–∏ –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–µ –Ω—É–∂–µ–Ω.",
      "category": "ui",
      "priority": "medium",
      "status": "done",
      "tags": ["ui", "ux", "partner", "feedback"],
      "createdAt": "2025-10-29T17:00:00Z",
      "updatedAt": "2025-10-29T22:00:00Z",
      "completedAt": "2025-10-29T22:00:00Z",
      "relatedFiles": [
        "src/components/ModernNastiaApp.tsx"
      ],
      "estimatedComplexity": "simple",
      "blockedBy": [],
      "notes": "‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ userPartner –≤ —É—Å–ª–æ–≤–∏–µ –ø–æ–∫–∞–∑–∞ –±–∞–Ω–Ω–µ—Ä–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ (ModernNastiaApp.tsx:5258). –ë–∞–Ω–Ω–µ—Ä —Ç–µ–ø–µ—Ä—å —Å–∫—Ä—ã—Ç –µ—Å–ª–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –Ω–µ—Ç –≤ –ë–î. –ò–∑–º–µ–Ω–µ–Ω–∏–µ: {activeTab === 'calendar' && !sergeyBannerDismissed && userPartner && (. –ë–∏–ª–¥ —É—Å–ø–µ—à–µ–Ω (455.49 kB, +1 B). –†–µ—à–∞–µ—Ç –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –±–∞–Ω–Ω–µ—Ä –±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –Ω–µ—Ç!"
    },
    {
      "id": "TASK-010",
      "title": "–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é CLAUDE.md",
      "description": "–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å CLAUDE.md –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π. –£–¥–∞–ª–∏—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è userProfile.ts –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é '–†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è' —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å userContext.ts –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Supabase, –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å userProfile/userPartner –≤ AI-—Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å getCurrentUser() (deprecated). –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞.",
      "category": "docs",
      "priority": "medium",
      "status": "done",
      "tags": ["docs", "documentation", "refactor"],
      "createdAt": "2025-10-29T17:00:00Z",
      "updatedAt": "2025-10-29T20:15:00Z",
      "completedAt": "2025-10-29T20:15:00Z",
      "relatedFiles": [
        "CLAUDE.md"
      ],
      "estimatedComplexity": "trivial",
      "blockedBy": [],
      "notes": "‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ: –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Å–µ–∫—Ü–∏—è 'Working with User Data' (~142 —Å—Ç—Ä–æ–∫–∏) –ø–æ—Å–ª–µ 'Data Flow & Storage' –≤ CLAUDE.md. –í–∫–ª—é—á–∞–µ—Ç: User Data Architecture, userContext.ts Helper Functions (—Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞), Proper Usage Pattern (‚úÖ –ø—Ä–∞–≤–∏–ª—å–Ω–æ / ‚ùå –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ), Migration Guide (4 —à–∞–≥–∞), Deprecated Files (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ userProfile.deprecated.ts), Why This Matters (–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤–∞–∂–Ω–æ—Å—Ç–∏). –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –ø–µ—Ä–µ–¥–∞—á—É userProfile/userPartner –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ getUserName()/getPartnerName(), –ø–∞—Ç—Ç–µ—Ä–Ω optional –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å fallback."
    }
  ]
}
