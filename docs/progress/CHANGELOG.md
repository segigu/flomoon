# Changelog

–í—Å–µ –∑–∞–º–µ—Ç–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ –±—É–¥—É—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ.

---

## [Unreleased]

### –í —Ä–∞–±–æ—Ç–µ
- –§–∞–∑–∞ 1: –£–Ω–∏–≤–µ—Ä—Å–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç (50% - 4/8 –∑–∞–¥–∞—á)

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–ó–∞–¥–∞—á–∞ 1.1:** –°–æ–∑–¥–∞–Ω `/src/data/userProfile.ts`
  - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `UserProfile` —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π –¥–ª—è –∏–º–µ–Ω–∏, –∞—Å—Ç—Ä–æ-–ø—Ä–æ—Ñ–∏–ª—è, –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ AI
  - –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `USER_PROFILES` —Å –ø—Ä–æ—Ñ–∏–ª–µ–º –ù–∞—Å—Ç–∏ (–∏–∑–≤–ª–µ—á–µ–Ω–æ –∏–∑ horoscope.ts)
  - –§—É–Ω–∫—Ü–∏—è `getCurrentUser()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `CURRENT_USER_ID` –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
  - TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫

- ‚úÖ **–ó–∞–¥–∞—á–∞ 1.2:** –û–±–Ω–æ–≤–ª—ë–Ω `/src/types/index.ts`
  - –î–æ–±–∞–≤–ª–µ–Ω—ã 5 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è:
    - `BehaviorPattern` - –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ AI-–∞–Ω–∞–ª–∏–∑–∞
    - `StoryAnalysis` - –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π
    - `CycleMoodCorrelation` - –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —Ü–∏–∫–ª ‚Üî –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
    - `AstroMoodCorrelation` - –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –∞—Å—Ç—Ä–æ-—Ç—Ä–∞–Ω–∑–∏—Ç—ã ‚Üî –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
    - `PsychologicalProfile` - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∞–≥–µ–Ω—Ç—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã
  - –û–±–Ω–æ–≤–ª—ë–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `NastiaData` —Å –ø–æ–ª–µ–º `psychologicalProfile`
  - TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫

- ‚úÖ **–ó–∞–¥–∞—á–∞ 1.3:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `/src/utils/horoscope.ts`
  - –ó–∞–º–µ–Ω–µ–Ω—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:
    - `NASTIA_CONTEXT` ‚Üí `buildUserContext()`
    - `SERGEY_CONTEXT` ‚Üí `buildPartnerContext()`
    - `HOROSCOPE_SYSTEM_PROMPT` ‚Üí `buildHoroscopeSystemPrompt()`
    - `SERGEY_SYSTEM_PROMPT` ‚Üí `buildPartnerSystemPrompt()`
    - `SERGEY_BANNER_SYSTEM_PROMPT` ‚Üí `buildSergeyBannerSystemPrompt()`
  - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ hardcoded —É–ø–æ–º–∏–Ω–∞–Ω–∏—è "–ù–∞—Å—Ç—è" –Ω–∞ `getCurrentUser().name`:
    - Fallback-—Ç–µ–∫—Å—Ç—ã (2 –º–µ—Å—Ç–∞)
    - –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
    - buildDailyPrompt(), buildWeeklyPrompt(), buildSergeyDailyPrompt()
    - buildSergeyMemoryReminders(), buildSergeyBannerPrompt()
  - TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫

- ‚úÖ **–ó–∞–¥–∞—á–∞ 1.4:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `/src/utils/historyStory.ts`
  - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `getCurrentUser()` –∏–∑ userProfile.ts
  - –ó–∞–º–µ–Ω–µ–Ω—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:
    - `NASTIA_PROFILE`, `NASTIA_CHART_ANALYSIS`, `BIRTH_DATA_TEXT`, `CHART_ANALYSIS_TEXT` ‚Üí
      `getUserProfile()`, `getUserChartAnalysis()`, `getUserBirthDataText()`, `getUserChartAnalysisText()`
  - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ hardcoded —É–ø–æ–º–∏–Ω–∞–Ω–∏—è "–ù–∞—Å—Ç—è"/"–ù–∞—Å—Ç–∏" –Ω–∞ `getCurrentUser().name` (8 –º–µ—Å—Ç):
    - generatePsychContractContext(): "–∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –ù–∞—Å—Ç–∏" (—Å—Ç—Ä–æ–∫–∞ 339)
    - buildStorySoFar(): "–î–æ—Å–ª–æ–≤–Ω–æ –ù–∞—Å—Ç—è —Å–∫–∞–∑–∞–ª–∞" (—Å—Ç—Ä–æ–∫–∞ 522)
    - buildInputDataBlock(): `user_name: ${NASTIA_PROFILE.name}` (—Å—Ç—Ä–æ–∫–∞ 538)
    - buildArcPrompt(): "–ü—Ä–µ–¥—ã–¥—É—â–∏–π –≤—ã–±–æ—Ä –ù–∞—Å—Ç–∏" (—Å—Ç—Ä–æ–∫–∞ 609)
    - buildArcPrompt(): "–Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ù–∞—Å—Ç–∏" (—Å—Ç—Ä–æ–∫–∞ 691)
    - buildFinalePrompt(): "–ù–∞—Å—Ç—è –°–ö–ê–ó–ê–õ–ê –°–í–û–ò–ú–ò –°–õ–û–í–ê–ú–ò" (—Å—Ç—Ä–æ–∫–∞ 746)
    - buildFinalePrompt(): "–ù–∞—Å—Ç—è —Å–∫–∞–∑–∞–ª–∞ –±—É–∫–≤–∞–ª—å–Ω–æ", "–∏—Ç–æ–≥–æ–≤—ã–π –≤—ã–±–æ—Ä –ù–∞—Å—Ç–∏" (—Å—Ç—Ä–æ–∫–∏ 762, 766)
    - buildFinalePrompt(): "–¥–ª—è –ù–∞—Å—Ç–∏" (—Å—Ç—Ä–æ–∫–∞ 803)
    - generateHistoryStoryChunk(): "–¥–ª—è –ù–∞—Å—Ç–∏" (—Å—Ç—Ä–æ–∫–∞ 1093)
  - TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

## [2025-10-26] - –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (`docs/`)
- ‚úÖ MASTER_PLAN.md - –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π –ø–ª–∞–Ω —Å 4 —Ñ–∞–∑–∞–º–∏ (15-19 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã)
- ‚úÖ PHASE_1_FOUNDATION.md - —É–Ω–∏–≤–µ—Ä—Å–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞ (8 –∑–∞–¥–∞—á)
- ‚úÖ PHASE_2_AI_AGENTS.md - –∞–≥–µ–Ω—Ç—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ (14 –∑–∞–¥–∞—á)
- ‚úÖ PHASE_3_PERSONALIZATION.md - –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ (6 –∑–∞–¥–∞—á)
- ‚úÖ PHASE_4_UI.md - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (10 –∑–∞–¥–∞—á)
- ‚úÖ ADR-001: Universal User Profile
- ‚úÖ ADR-002: AI Agent Tiers (3-—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞, —ç–∫–æ–Ω–æ–º–∏—è 24x)
- ‚úÖ ADR-003: Prompt Caching (—ç–∫–æ–Ω–æ–º–∏—è 80-90% –Ω–∞ input —Ç–æ–∫–µ–Ω–∞—Ö)
- ‚úÖ AGENT_PROMPTS.md - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø—Ä–æ–º–ø—Ç–æ–≤
- ‚úÖ CURRENT_TASK.md, CHANGELOG.md, BLOCKERS.md - —Ç—Ä–µ–∫–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ Slash commands –¥–ª—è Claude Code (`/status`, `/next`, `/plan`)

### –ò–∑–º–µ–Ω–µ–Ω–æ
- üîÑ CLAUDE.md - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–æ–≤—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- –¢—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ AI-–∞–≥–µ–Ω—Ç–æ–≤ (Tier 1: Haiku, Tier 2: Haiku, Tier 3: Sonnet)
- Prompt caching –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ UserProfile –¥–ª—è –º—É–ª—å—Ç–∏–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é –∫–∞–∂–¥—ã–π —Ä–∞–∑)

---

## [2025-10-15] - Voice Recording

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- –ì–æ–ª–æ—Å–æ–≤–∞—è –∑–∞–ø–∏—Å—å "–°–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç" –≤ DiscoverTabV2
- Props-based –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è customOption
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: VOICE_RECORDING.md

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- Infinite loop –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ setChoices –≤ useEffect
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —á–µ—Ä–µ–∑ props

---

## –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏

_(–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ –Ω–∞—á–∞–ª–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)_

---

**–§–æ—Ä–º–∞—Ç:** [–î–∞—Ç–∞] - –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞
**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:** –î–æ–±–∞–≤–ª–µ–Ω–æ, –ò–∑–º–µ–Ω–µ–Ω–æ, –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, –£–¥–∞–ª–µ–Ω–æ, –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
