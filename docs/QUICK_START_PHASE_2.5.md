# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –§–∞–∑–∞ 2.5 - –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (i18n)

**–î–∞—Ç–∞:** 2025-10-27
**–í–µ—Ä—Å–∏—è:** 1.0.0
**ETA:** 3-4 –¥–Ω—è (20-24 —á–∞—Å–∞)

---

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ–º?

–î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É 3 —è–∑—ã–∫–æ–≤: **—Ä—É—Å—Å–∫–∏–π (ru)**, **–Ω–µ–º–µ—Ü–∫–∏–π (de)**, **–∞–Ω–≥–ª–∏–π—Å–∫–∏–π (en)**

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** react-i18next v14+

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### 1. –ü—Ä–æ—á–∏—Ç–∞–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω
```bash
cat docs/roadmap/PHASE_2.5_I18N_DETAILED_PLAN.md
```

### 2. –ü—Ä–æ–≤–µ—Ä—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
```bash
cat docs/progress/CURRENT_TASK.md
```

### 3. –ù–∞—á–Ω–∏ –∑–∞–¥–∞—á—É 2.5.1
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install i18next react-i18next i18next-browser-languagedetector

# –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
mkdir -p src/i18n/locales/{ru,de,en}
```

---

## üìã –í—Å–µ –∑–∞–¥–∞—á–∏ (6 —à—Ç, 20-24 —á–∞—Å–∞)

### 2.5.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ i18next (~2 —á–∞—Å–∞)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –°–æ–∑–¥–∞—Ç—å 30 JSON —Ñ–∞–π–ª–æ–≤ (10 √ó 3 —è–∑—ã–∫–∞)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `i18n/config.ts`
- –°–æ–∑–¥–∞—Ç—å `i18nHelpers.ts`

### 2.5.2: –ë–î –º–∏–≥—Ä–∞—Ü–∏—è (~2 —á–∞—Å–∞)
- –î–æ–±–∞–≤–∏—Ç—å `language_code VARCHAR(5)` –≤ `users_profiles`
- –û–±–Ω–æ–≤–∏—Ç—å TypeScript —Ç–∏–ø—ã (`UserProfile`)
- –û–±–Ω–æ–≤–∏—Ç—å API (`fetchUserProfile`, `updateUserProfile`)

### 2.5.3: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–≤–æ–¥ UI (~8-10 —á–∞—Å–æ–≤)
- –°–æ–∑–¥–∞—Ç—å JSON —Å —Ä—É—Å—Å–∫–∏–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏
- –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –Ω–∞ –Ω–µ–º–µ—Ü–∫–∏–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π (AI)
- –ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç—ã –Ω–∞ `t('key')` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –î–æ–±–∞–≤–∏—Ç—å LanguageSelector –≤ Settings

### 2.5.4: –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è AI –ø—Ä–æ–º–ø—Ç–æ–≤ (~4-5 —á–∞—Å–æ–≤)
- –°–æ–∑–¥–∞—Ç—å `aiPrompts.ts` (—Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –Ω–∞ 3 —è–∑—ã–∫–∞—Ö)
- –û–±–Ω–æ–≤–∏—Ç—å `horoscope.ts` ‚Üí –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —è–∑—ã–∫
- –û–±–Ω–æ–≤–∏—Ç—å `historyStory.ts` ‚Üí –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —è–∑—ã–∫
- –û–±–Ω–æ–≤–∏—Ç—å `planetMessages.ts` ‚Üí –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —è–∑—ã–∫
- –û–±–Ω–æ–≤–∏—Ç—å Edge Function ‚Üí –ø—Ä–∏–Ω–∏–º–∞—Ç—å `languageCode`

### 2.5.5: –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (~3-4 —á–∞—Å–∞)
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: `LocalizedText { ru, de, en }`
- –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—Å–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (~10-15 —à—Ç)
- –°–æ–∑–¥–∞—Ç—å `contractHelpers.ts`
- –û–±–Ω–æ–≤–∏—Ç—å `DiscoverTabV2.tsx` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã

### 2.5.6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (~2-3 —á–∞—Å–∞)
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö
- –û–±–Ω–æ–≤–∏—Ç—å CLAUDE.md, MASTER_PLAN.md
- –°–æ–∑–¥–∞—Ç—å I18N_GUIDE.md
- –ö–æ–º–º–∏—Ç –∏ –¥–µ–ø–ª–æ–π

---

## üîë –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

### –ë—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:
```
src/i18n/
  config.ts
  locales/
    ru/*.json (10 —Ñ–∞–π–ª–æ–≤)
    de/*.json (10 —Ñ–∞–π–ª–æ–≤)
    en/*.json (10 —Ñ–∞–π–ª–æ–≤)
src/utils/i18nHelpers.ts
src/utils/aiPrompts.ts
src/utils/contractHelpers.ts
docs/I18N_GUIDE.md
```

### –ë—É–¥—É—Ç –∏–∑–º–µ–Ω–µ–Ω—ã:
```
src/index.tsx
src/components/ModernNastiaApp.tsx
src/components/GlassTabBar.tsx
src/components/AuthModal.tsx
src/components/ProfileSetupModal.tsx
src/utils/horoscope.ts
src/utils/historyStory.ts
src/utils/planetMessages.ts
src/data/psychologicalContracts.ts
supabase: users_profiles table (SQL migration)
```

---

## üí° –ü–æ—á–µ–º—É –¥–µ–ª–∞–µ–º –°–ï–ô–ß–ê–°?

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** i18n –ü–ï–†–ï–î AI-–∞–≥–µ–Ω—Ç–∞–º–∏ (–§–∞–∑–∞ 4)

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ò–∑–±–µ–≥–∞–µ–º –ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞–Ω–∏—è 14 AI-–∞–≥–µ–Ω—Ç–æ–≤ –ø–æ—Ç–æ–º (—ç–∫–æ–Ω–æ–º–∏—è 6-8 —á–∞—Å–æ–≤)
2. –ë–î —Å—Ä–∞–∑—É —Å `language_code` (no migration hell)
3. –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã —Å—Ä–∞–∑—É –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ
4. AI-–∞–≥–µ–Ω—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —è–∑—ã–∫–µ —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞

**–≠–∫–æ–Ω–æ–º–∏–∫–∞:**
```
–ü–ª–∞–Ω A: i18n (20-24—á) ‚Üí AI-–∞–≥–µ–Ω—Ç—ã (60-80—á) = 80-104 —á–∞—Å–∞
–ü–ª–∞–Ω B: AI-–∞–≥–µ–Ω—Ç—ã (60-80—á) ‚Üí –ø–µ—Ä–µ–¥–µ–ª–∫–∞ (6-8—á) ‚Üí i18n (20-24—á) = 86-112 —á–∞—Å–æ–≤

–≠–∫–æ–Ω–æ–º–∏—è: 6-8 —á–∞—Å–æ–≤ + –Ω–µ—Ç –≥–æ–ª–æ–≤–Ω–æ–π –±–æ–ª–∏!
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ–∞–∑—ã

- [ ] i18next –Ω–∞—Å—Ç—Ä–æ–µ–Ω, —Ä–∞–±–æ—Ç–∞—é—Ç 3 —è–∑—ã–∫–∞ (ru, de, en)
- [ ] –í—Å–µ UI —Ç–µ–∫—Å—Ç—ã –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `t('key')` (~1440 –≤—Ö–æ–∂–¥–µ–Ω–∏–π)
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞ –≤ Settings —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –Ø–∑—ã–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Supabase (`users_profiles.language_code`)
- [ ] AI –∫–æ–Ω—Ç–µ–Ω—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —è–∑—ã–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –Ω–∞ –≤—Å–µ—Ö 3 —è–∑—ã–∫–∞—Ö
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

---

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞

1. **–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã** - —Ç–æ–ª—å–∫–æ `t('key')`
2. **–ü–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ AI** (Claude/GPT) ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ—Ä–º–∏–Ω—ã
3. **Fallback –Ω–∞ —Ä—É—Å—Å–∫–∏–π** - –µ—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω
4. **–Ø–∑—ã–∫ –≤ Supabase** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `i18nHelpers.ts`
5. **AI –ø—Ä–æ–º–ø—Ç—ã** - –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `languageCode` –≤ Edge Function

---

## üìä –ü—Ä–æ–≥—Ä–µ—Å—Å —Ñ–∞–∑—ã

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** 0% (0/6 –∑–∞–¥–∞—á)

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–¥–∞—á–∞ 2.5.1 (–ù–∞—Å—Ç—Ä–æ–π–∫–∞ i18next) - ETA ~2 —á–∞—Å–∞

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞:**
```bash
npm install i18next react-i18next i18next-browser-languagedetector
```

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [PHASE_2.5_I18N_DETAILED_PLAN.md](roadmap/PHASE_2.5_I18N_DETAILED_PLAN.md) - –ø–æ–ª–Ω—ã–π –ø–ª–∞–Ω
- [CURRENT_TASK.md](progress/CURRENT_TASK.md) - —Ç–µ–∫—É—â–∞—è –∑–∞–¥–∞—á–∞
- [MASTER_PLAN.md](MASTER_PLAN.md) - –æ–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å

---

**–ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å? –û—Ç–∫—Ä–æ–π [PHASE_2.5_I18N_DETAILED_PLAN.md](roadmap/PHASE_2.5_I18N_DETAILED_PLAN.md) –∏ —Å–ª–µ–¥—É–π –∑–∞–¥–∞—á–∞–º –ø–æ –ø–æ—Ä—è–¥–∫—É!**
