## Астрологический движок в Nastia Calendar

Мы переключили генерацию гороскопов на расчёт реальных транзитов поверх контекста Насти.

### Что использовано
- [`astronomy-engine`](https://github.com/cosinekitty/astronomy) — даёт координаты планет без внешних API.
- [`luxon`](https://moment.github.io/luxon/) — для аккуратных преобразований тайм-зон.
- В `src/data/astroProfiles.ts` лежат профили (дата, время, место) Насти, Серёжи и семьи. При появлении точных данных просто обнови цифры.

### Как работает
1. При открытии модального окна выбирается неделя (всегда с понедельника по воскресенье относительно выбранной даты).
2. `src/utils/astro.ts` вычисляет:
   - натальные долготы планет для Насти и Серёжи (кешируется);
   - транзитные планеты на середину недели;
   - аспекты (соединение, секстиль, квадрат, трин, оппозиция) между транзитами и наталом.
3. Полученные аспекты превращаются в короткие «подсказки» (`buildAstroHighlights`), которые подмешиваются в промпт Claude.
4. Claude пишет текст, опираясь на реальные астро-данные + контекст отношений.
5. В карточке гороскопа подсказки выводятся списком под основным текстом.

### Что редактировать
- `src/data/astroProfiles.ts` — добавляй/меняй даты рождения, уточняй час и координаты. Если время неизвестно, оставь середину дня, но пометь `notes`.
- В `src/utils/astro.ts` можно настроить:
  - список планет (`PLANETS`);
  - орбисы аспектов (`ASPECTS`);
  - текстовые шаблоны (`PLANET_THEMES`, `ASPECT_TONES`, `ASPECT_EFFECTS`).

### Как расширить
- Добавить расчёт домов (через ту же библиотеку) и подмешивать, например, что транзит идёт по дому.
- Завести профили других важный людей и расширять подсказки.
- Кешировать транзиты на диск / в `localStorage`, если захочется меньше вычислений.

### Проверка
`npm start` → открываешь модалку → в консоли увидишь `[Horoscope] Astro highlights: [...]`. Можно свериться с расчётами на любом astro-сайте.
